(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e){e.exports=[{title:"Firehouse Lounge",location:{lat:30.2665,lng:-97.7412,address:"605 Brazos St"},city:"Austin",url:null,genre:"pop",photo:null,id:"427d5680f964a520a7211fe3"},{title:"Elephant Room",location:{lat:30.265,lng:-97.743,address:"315 Congress Ave"},city:"Austin",url:null,genre:"blues",photo:null,id:"4101a680f964a520640b1fe3"},{title:"Antone's Nightclub",location:{lat:30.266,lng:-97.74,address:"305 E 5th St"},city:"Austin",url:null,genre:"rock",photo:null,id:"568c8b18498edb7318117b20"},{title:"Continental Club",location:{lat:30.25,lng:-97.749,address:"1315 S Congress Ave"},city:"Austin",url:null,genre:"funk",photo:null,id:"40b52f80f964a52051001fe3"},{title:"One-2-One Bar",location:{lat:30.251,lng:-97.763,address:"1509 S Lamar Blvd"},city:"Austin",url:null,genre:"jazz",photo:null,id:"505a7e4f8acadf4306beedb2"},{title:"Dozen Street",location:{lat:30.273,lng:-97.72,address:"1808 E 12th St"},city:"Austin",url:null,genre:"funk",photo:null,id:"5382c447498e3241cb433f17"},{title:"C-Boys Heart & Soul",location:{lat:30.243,lng:-97.752,address:"2008 S Congress Ave"},city:"Austin",url:null,genre:"funk",photo:null,id:"52c8cde7498e1f5cfa9b44c5"},{title:"Flamingo Catina",location:{lat:30.266,lng:-97.737,address:"515 E 6th St"},city:"Austin",url:null,genre:"reggae",photo:null,id:"40b13b00f964a520a3f31ee3"}]},14:function(e){e.exports=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]},17:function(e,t,n){e.exports=n(42)},22:function(e,t,n){},24:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),l=n(8),i=n.n(l),s=(n(22),n(1)),c=n(2),u=n(4),p=n(3),f=n(5),d=(n(24),n(13)),m=n(9),h=n(14),y=n(15),g=n.n(y),v=n(11),b=n.n(v),k=n(16),w=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={query:"",toggleIcon:"fas fa-times fa-2x",drawerVis:"drawerContainer",venueList:[]},n.filterList=function(e){if(e){var t=new RegExp(g()(e),"i");0===(a=n.props.allLocations.filter(function(e){return t.test(e.title)||t.test(e.genre)})).length&&(a=[{title:"Sorry, no matches",genre:"Sorry, no matches"}]),n.setState({query:e,venueList:a}),n.props.updateMarkers(a)}else a=n.props.allLocations,n.setState({query:e,venueList:n.props.allLocations}),n.props.unhideMarkers();a.sort(b()("title"))},n.buttonClicks=function(e){var t=n.props.allLocations.filter(function(t){return t.id===e.id});n.collectActiveMarker(t)},n.collectActiveMarker=function(e){var t=n.props.markers.filter(function(t){return t.id===e[0].id});n.props.filterMarkers(e,t),n.props.openInfoW(e[0],t[0])},n.drawerAni=function(e){"fas fa-times fa-2x"===e.className?n.setState({toggleIcon:"fas fa-bars fa-2x",drawerVis:"drawerContainer notShowing"}):n.setState({toggleIcon:"fas fa-times fa-2x",drawerVis:"drawerContainer"})},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){(a=this.props.allLocations).sort(b()("title")),this.setState({venueList:a}),this.filterList=Object(k.debounce)(this.filterList,100)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.state.drawerVis},o.a.createElement("div",{className:"searchContainer"},o.a.createElement("div",{className:"searchInput"},o.a.createElement("input",{id:"zoom-to-area-text",type:"text",placeholder:"Search by name or music genre",value:this.state.query,onChange:function(t){e.filterList(t.target.value)}})),o.a.createElement("div",{className:"searchList"},this.state.venueList.map(function(t,n){return o.a.createElement("button",{key:n,className:"venueListItem",onClick:function(t){e.buttonClicks(t.target)},tabIndex:"0","aria-label":"button",id:t.id},t.title)}))),o.a.createElement("div",{className:"drawer-icon"},o.a.createElement("i",{className:this.state.toggleIcon,onClick:function(t){e.drawerAni(t.target)}})))}}]),t}(r.Component),E="NLLRCVGJ4BHIN4NUPHFUGV5ENQJTDSTBEW0HQYL0XBYETIPY",M="VYS1IKENWOYN451CYZV20HN1KHO1PBUM1UA3M1SG2O33QTAK",T="https://api.foursquare.com/v2/venues/",A=("search?client_id=".concat(E,"&client_secret=").concat(M,"&v=20180323&limit=1"),"?client_id=".concat(E,"&client_secret=").concat(M,"&v=20180323&limit=1")),S={},O=function(e){return fetch("".concat(T).concat(e).concat(A),{method:"GET",headers:S}).then(function(e){return e.json()}).then(function(e){return e})},C=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={map:null,markers:[],markerData:[],showInfoWindow:!1,selectedMarker:{},selectedMarkerProps:[],infoWindowPic:null},n.initMap=function(e,t){n.setState({map:t}),n.placeMarkers(n.props.allLocations),n.mapError()},n.placeMarkers=function(e){if(e){n.state.markers.map(function(e){return e.setMap(null)});var t=[],a=e.map(function(e,a){var r={key:a,index:a,title:e.title,position:e.location,id:e.id};t.push(r);var o=n.props.google.maps.Animation.DROP,l=new n.props.google.maps.Marker({position:e.location,map:n.state.map,id:r.id,animation:o});return l.addListener("click",function(){n.getEventData(r,l)}),l});n.setState({markers:a,markerData:t})}},n.filterMarkers=function(e,t){n.setState({selectedMarker:t,selectedMarkerProps:e}),n.removeMarkers(e[0])},n.removeMarkers=function(e){n.state.markers.filter(function(t){return t.id!==e.id}).map(function(e){return e.map=e.setMap(null)})},n.getEventData=function(e,t){var a="",r="",o="",l="";n.setState({selectedMarker:t,selectedMarkerProps:e,infoWindowPic:null}),t.setAnimation(n.props.google.maps.Animation.BOUNCE),O(e.id).then(function(e){return 200===e.meta.code?(a=e.response.venue.bestPhoto.prefix,r=e.response.venue.bestPhoto.suffix,o="cap200",l="".concat(a).concat(o).concat(r),n.setState({showInfoWindow:!0,infoWindowPic:l}),l):alert(e.meta.errorDetail)})},n.closeInfoWindow=function(){n.unhideMarkers()},n.unhideMarkers=function(){var e=n.props.allLocations;n.placeMarkers(e),0!==Object.keys(n.state.selectedMarker).length&&n.state.selectedMarker.setAnimation(null)},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"mapError",value:function(){window.gm_authFailure=function(){alert("Unfortunately, Google Maps is unable to load at the moment. Please check your internet connection and try again.")}}},{key:"render",value:function(){return o.a.createElement(m.Map,{role:"application","aria-label":"map",onReady:this.initMap,initialCenter:{lat:this.props.lat,lng:this.props.long},zoom:this.props.zoom,style:{width:"100%",height:"100%"},google:this.props.google,styles:h},o.a.createElement(w,Object.assign({},this.props,this.state,{openInfoW:this.getEventData,filterMarkers:this.filterMarkers,updateMarkers:this.placeMarkers,unhideMarkers:this.unhideMarkers})),o.a.createElement(m.InfoWindow,{marker:this.state.selectedMarker,visible:this.state.showInfoWindow,onClose:this.closeInfoWindow},o.a.createElement("div",{className:"infoWindowStyles"},o.a.createElement("h3",null,this.state.selectedMarkerProps.title),o.a.createElement("figure",null,o.a.createElement("img",{src:this.state.infoWindowPic,alt:this.state.selectedMarkerProps.title}),o.a.createElement("figcaption",null,"Photo courtesy of Foursquare API")))))}}]),t}(r.Component),j=Object(m.GoogleApiWrapper)({apiKey:"AIzaSyAVJX-nedXRZCvCQiScRwO-RNsZyeepD7E"})(C),L=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={hasError:!1},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidCatch",value:function(e,t){alert(e,t)}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.Component),x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={lat:30.2672,long:-97.7431,zoom:12,allLocations:d},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",null,"bands")),o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,"home"),o.a.createElement("li",null,"artists"),o.a.createElement("li",null,"venues"),o.a.createElement("li",null,"about"),o.a.createElement("li",null,"contact us"))),o.a.createElement(L,null,o.a.createElement(j,this.state)))}}]),t}(r.Component),N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(x,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bands-on-demand",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/bands-on-demand","/service-worker.js");N?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):W(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):W(t,e)})}}()}},[[17,2,1]]]);
//# sourceMappingURL=main.11c4bea2.chunk.js.map